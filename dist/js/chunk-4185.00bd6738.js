(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4185"],{"6a02":function(e,t,a){},"879b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Form",{ref:"searchProjectData",attrs:{rules:e.ruleValidate,model:e.searchProjectData,"label-width":120}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"edit"}}),e._v("\n                创建项目\n            ")],1),a("Row",[a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"所属公司：",prop:"companyName"}},[a("Select",{staticStyle:{width:"100%"},attrs:{"label-in-value":!0,filterable:"",remote:"","remote-method":e.searchCompany,loading:e.loading,placeholder:"请输入公司名称|自动搜索"},on:{"on-change":e.getCompanyCode}},e._l(e.searchCompanyData,function(t){return a("Option",{key:t.value,attrs:{value:t.code,label:t.value}},[e._v(e._s(t.value))])}))],1)],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"所属系统：",prop:"systemName"}},[a("Select",{staticStyle:{width:"100%"},attrs:{"label-in-value":!0,filterable:"",remote:"","remote-method":e.searchSystem,loading:e.loading,placeholder:"请输入系统名称|自动搜索"},on:{"on-change":e.getProjectCode}},e._l(e.searchSystemData,function(t){return a("Option",{key:t.value,attrs:{value:t.code,label:t.value}},[e._v(e._s(t.value))])}))],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"项目编码："}},[a("Input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.searchProjectData.projectCode,callback:function(t){e.$set(e.searchProjectData,"projectCode",t)},expression:"searchProjectData.projectCode"}})],1)],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"项目名称：",prop:"projectName"}},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入项目名称"},model:{value:e.searchProjectData.projectName,callback:function(t){e.$set(e.searchProjectData,"projectName",t)},expression:"searchProjectData.projectName"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"项目负责人："}},[a("Select",{staticStyle:{width:"100%"},attrs:{"label-in-value":!0,filterable:"",remote:"","remote-method":e.searchprojectOwnName,loading:e.loading,placeholder:"请输入团队名称|自动搜索"},on:{"on-change":e.getProjectOwnCode}},e._l(e.searchprojectOwnNameData,function(t){return a("Option",{key:t.value,attrs:{value:t.code,label:t.value}},[e._v(e._s(t.value))])}))],1)],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"团队负责人："}},[a("Select",{staticStyle:{width:"100%"},attrs:{"label-in-value":!0,filterable:"",remote:"","remote-method":e.searchteamOwnName,loading:e.loading,placeholder:"请输入团队负责人名称|自动搜索"},on:{"on-change":e.getTeamOwnCode}},e._l(e.searchteamOwnNameData,function(t){return a("Option",{key:t.value,attrs:{value:t.code,label:t.value}},[e._v(e._s(t.value))])}))],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"信息接口人姓名："}},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入信息接口人姓名"},model:{value:e.searchProjectData.itPerson,callback:function(t){e.$set(e.searchProjectData,"itPerson",t)},expression:"searchProjectData.itPerson"}})],1)],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"业务接口人姓名："}},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入业务接口人姓名"},model:{value:e.searchProjectData.businessPerson,callback:function(t){e.$set(e.searchProjectData,"businessPerson",t)},expression:"searchProjectData.businessPerson"}})],1)],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"提出部门："}},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入提出部门"},model:{value:e.searchProjectData.proposeDepartment,callback:function(t){e.$set(e.searchProjectData,"proposeDepartment",t)},expression:"searchProjectData.proposeDepartment"}})],1)],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"计划上线日期：",prop:"planOnlineDate"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择计划上线日期",clearable:""},model:{value:e.searchProjectData.planOnlineDate,callback:function(t){e.$set(e.searchProjectData,"planOnlineDate",t)},expression:"searchProjectData.planOnlineDate"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"18",offset:"2"}},[a("FormItem",{attrs:{label:"备注：",prop:"remark"}},[a("Input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:2}},model:{value:e.searchProjectData.remark,callback:function(t){e.$set(e.searchProjectData,"remark",t)},expression:"searchProjectData.remark"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"4",offset:"9"}},[a("Button",{attrs:{type:"primary",icon:"ios-checkmark-circle-outline"},on:{click:function(t){e.addProjectToRev("searchProjectData")}}},[e._v("提交")])],1),a("Col",{attrs:{span:"4"}},[a("Button",{attrs:{type:"primary",icon:"ios-undo"},on:{click:function(t){return t.preventDefault(),e.pageBack(t)}}},[e._v("返回")])],1)],1)],1)],1)],1)},o=[],n=(a("7f7f"),a("c93e")),c=a("c276"),s=a("2f62"),l={name:"projectAdd",inject:["reload"],data:function(){var e=this,t=function(e,t,a){t.length>200&&a(new Error("备注最大长度200!")),a()},a=function(e,t,a){var r=new Date(t),o=new Date;r.getTime()<=o.getTime()&&a(new Error("计划上线日期需大于当天!")),a()},r=function(t,a,r){var o=/\s/;""===a||null===a||!0===o.test(a)?r(new Error("请输入正确的项目名称!")):void 0!==a&&a.length>100?r(new Error("最大长度20!")):e.handlevalidateProjectNameCheck(e.searchProjectData.projectName).then(function(t){console.log("handlevalidateProjectNameCheck",e.message),"成功"!==e.message&&r(new Error(e.message)),r()})};return{ruleValidate:{projectName:[{required:!0,message:"请输入项目名称!",trigger:"change"},{validator:r}],companyName:[{required:!0,message:"请输入公司名称!",trigger:"change"}],systemName:[{required:!0,message:"请输入系统名称!",trigger:"change"}],planOnlineDate:[{required:!0,type:"date",message:"请选择计划上线日期!",trigger:"change"},{validator:a}],remark:[{message:"请填写备注!",trigger:"change"},{validator:t}]}}},computed:Object(n["a"])({},Object(s["e"])({searchProjectData:function(e){var t=e.projectAdd;return t.searchProjectData},searchCompanyData:function(e){var t=e.projectAdd;return t.searchCompanyData},searchSystemData:function(e){var t=e.projectAdd;return t.searchSystemData},searchprojectNameData:function(e){var t=e.projectAdd;return t.searchprojectNameData},searchgetProjectCode:function(e){var t=e.projectAdd;return t.searchgetProjectCode},searchprojectOwnNameData:function(e){var t=e.projectAdd;return t.searchprojectOwnNameData},searchteamOwnNameData:function(e){var t=e.projectAdd;return t.searchteamOwnNameData},searchvalidateProjectNameCheck:function(e){var t=e.projectAdd;return t.searchvalidateProjectNameCheck},loading:function(e){var t=e.projectAdd;return t.loading},message:function(e){var t=e.projectAdd;return t.message}})),methods:Object(n["a"])({},Object(s["b"])(["handleQueryBySearchSystem","handleQueryBySearchcompanyName1","handleAddProjectToRev","handleResetSearchProjectData","handleQueryBySearchprojectName","handleQueryByGetProjectCode","handlevalidateProjectNameCheck","handleQueryBySearchprojectOwnName","handleQueryBySearchteamOwnName"]),{init:function(){Object(c["o"])()},pageBack:function(){var e=this;this.handleResetSearchProjectData().then(function(t){e.$router.push({name:"projectList"})})},searchSystem:function(e){this.handleQueryBySearchSystem(e).then(function(e){})},searchCompany:function(e){this.handleQueryBySearchcompanyName1(e).then(function(e){})},searchprojectName:function(e){this.handleQueryBySearchprojectName(e).then(function(e){})},getProjectCode:function(e){var t=this;this.handleQueryByGetProjectCode(e).then(function(e){t.searchProjectData.projectCode=t.searchgetProjectCode}),this.searchProjectData.systemCode=e.value,this.searchProjectData.systemName=e.label},searchprojectOwnName:function(e){this.handleQueryBySearchprojectOwnName(e).then(function(e){})},searchteamOwnName:function(e){this.handleQueryBySearchteamOwnName(e).then(function(e){})},getCompanyCode:function(e){this.searchProjectData.companyCode=e.value,this.searchProjectData.companyName=e.label},getProjectOwnCode:function(e){console.log(e),this.searchProjectData.projectOwnCode=e.value,this.searchProjectData.projectOwnName=e.label},getTeamOwnCode:function(e){this.searchProjectData.teamOwnCode=e.value,this.searchProjectData.teamOwnName=e.label},submitAddData:function(){var e=this;this.handleAddProjectToRev(this.searchProjectData).then(function(t){"项目创建成功"==e.message?e.$Modal.success({title:"提示",content:e.message,onOk:function(){e.reload(),e.$router.push({name:"projectList"})}}):e.$Modal.error({title:"提示",content:e.message})})},addProjectToRev:function(e){var t=this;this.$refs[e].validate(function(e){e?t.submitAddData():t.$Message.error("验证错误!")})}}),mounted:function(){this.init()}},i=l,h=(a("970a"),a("2877")),d=Object(h["a"])(i,r,o,!1,null,null,null);d.options.__file="projectMainTenanceAdd.vue";t["default"]=d.exports},"970a":function(e,t,a){"use strict";var r=a("6a02"),o=a.n(r);o.a}}]);