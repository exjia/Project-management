(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-254d"],{2238:function(e,t,a){"use strict";var r;a("a481"),a("1c4c"),a("ac6a");function o(){var e=window.navigator.userAgent;return e.indexOf("MSIE")>=0?"ie":e.indexOf("Firefox")>=0?"Firefox":e.indexOf("Chrome")>=0?"Chrome":e.indexOf("Opera")>=0?"Opera":e.indexOf("Safari")>=0?"Safari":void 0}function n(e,t,a){var n=e.$children[0].$el,c=e.$children[1].$el,l="<thead><tr>";if(1!==e.$children.length){var p=c.rows.length,h=-1;while(h<p)-1===h?(Array.from(n.rows[0].children).forEach(function(e){l=l+"<th>"+e.children[0].children[0].innerHTML+"</th>"}),l+="</tr><thead><tbody>"):(l+="<tr>",Array.from(c.rows[h].children).forEach(function(e){l=l+"<td>"+e.children[0].children[0].innerHTML+"</td>"}),l+="</tr>"),h++;l+="</tbody>"}if("Safari"!==o()&&".xls"!==a.substr(-1,4)&&(a+=".xls"),"ie"===o()){var d=e,y=new ActiveXObject("Excel.Application"),u=y.Workbooks.Add(),D=u.Worksheets(1),f=document.body.createTextRange();f.moveToElementText(d),f.select(),f.execCommand("Copy"),D.Paste(),y.Visible=!0;try{var R=y.Application.GetSaveAsFilename("Excel.xls","Excel Spreadsheets (*.xls), *.xls")}catch(e){print("Nested catch caught "+e)}finally{u.SaveAs(R),y.Quit(),y=null,r=setInterval(s(),1)}}else i(l,t,a)}function s(){window.clearInterval(r)}var i=function(){var e="data:application/vnd.ms-excel;base64,",t='<html><head><meta charset="UTF-8"></head><body><table>{table}</table></body></html>',a=function(e){return window.btoa(unescape(encodeURIComponent(e)))},r=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})};return function(o,n,s){var i={worksheet:s||"Worksheet",table:o};document.getElementById(n).href=e+a(r(t,i)),document.getElementById(n).download=s,document.getElementById(n).click()}}(),c={};c.transform=n,t["a"]=c},"2e71":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"search"}}),e._v("\n                项目查询\n            ")],1),a("Form",{ref:"searchDayReportData",attrs:{model:e.searchDayReportData,"label-width":100}},[a("Row",[a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"按年搜索："}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"year",placeholder:"请选择年份",clearable:""},on:{"on-change":e.cleardayReportMD},model:{value:e.searchDayReportData.dayReportYear,callback:function(t){e.$set(e.searchDayReportData,"dayReportYear",t)},expression:"searchDayReportData.dayReportYear"}})],1)],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"按月搜索："}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"请选择月份",clearable:""},on:{"on-change":e.cleardayReportYD},model:{value:e.searchDayReportData.dayReportMonth,callback:function(t){e.$set(e.searchDayReportData,"dayReportMonth",t)},expression:"searchDayReportData.dayReportMonth"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"按日搜索："}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期",clearable:""},on:{"on-change":e.cleardayReportYM},model:{value:e.searchDayReportData.dayReportDay,callback:function(t){e.$set(e.searchDayReportData,"dayReportDay",t)},expression:"searchDayReportData.dayReportDay"}})],1)],1),a("Col",{attrs:{span:"8",offset:"2"}},[a("FormItem",{attrs:{label:"员工姓名："}},[a("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入人员名称",clearable:""},model:{value:e.searchDayReportData.userName,callback:function(t){e.$set(e.searchDayReportData,"userName",t)},expression:"searchDayReportData.userName"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"4",offset:"9"}},[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.searchData}},[e._v("查询")])],1),a("Col",{attrs:{span:"4"}},[a("Button",{attrs:{icon:"ios-sync"},on:{click:e.cleanData}},[e._v("重置")])],1)],1)],1)],1)],1),a("Row",{staticClass:"margin-top-10"},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"search"}}),e._v("\n                日数据列表\n            ")],1),a("Table",{ref:"tableExcel",staticClass:"margin-top-10",attrs:{data:e.tableData,columns:e.tableColumns,loading:e.loading}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.total,current:e.pageNo,"page-size":e.pageSize,size:"small","show-total":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1)])],1)],1),a("a",{staticStyle:{postion:"absolute",left:"-10px",top:"-10px",width:"0px",height:"0px"},attrs:{id:"hrefToExportTable"}})],1)},o=[],n=a("c93e"),s=(a("2238"),a("c276")),i=a("2f62"),c={name:"personList",data:function(){var e=this;return{searchDayReportData:{dayReportYear:"",dayReportMonth:"",dayReportDay:"",userName:"",pageSort:"creatime",pageOrder:"desc",pageSize:"10",pageNo:"1"},tableColumns:[{title:"年",align:"center",key:"dayReportYear",width:80},{title:"月",align:"center",key:"dayReportMonth",width:60},{title:"日",align:"center",key:"dayReportDay",width:60},{title:"员工编号",align:"center",key:"userCode",width:100},{title:"员工姓名",align:"center",key:"userName"},{title:"日工作时长",align:"center",key:"taskUseTime",width:100},{title:"审核状态",align:"center",key:"auditStatus",width:100,render:function(e,t){var a=t.row,r=1===a.status?"blue":2===a.status?"green":"red",o=1===a.status?"审核中":2===a.status?"已审核":"未审核";return e("Tag",{props:{color:r}},o)}},{title:"查看",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},on:{click:function(){var t={userCode:a.row.userCode};e.$router.push({name:"personmainList",query:t})}}},"查看")])}}],excelFileName:"data"}},computed:Object(n["a"])({},Object(i["e"])({loading:function(e){var t=e.personList;return t.loading},tableData:function(e){var t=e.personList;return t.personLista},searchPersonData:function(e){var t=e.personList;return t.searchPersonData},pageNo:function(e){var t=e.personList;return t.pageNo},total:function(e){var t=e.personList;return t.record},pageSize:function(e){var t=e.personList;return t.pageSize},pages:function(e){var t=e.personList;return t.pages}})),methods:Object(n["a"])({},Object(i["b"])(["handlePersonList"]),{init:function(){this.searchData()},changeDate:function(e){},searchData:function(){this.searchDayReportData.dayReportYear=Object(s["c"])(this.searchDayReportData.dayReportYear,"yyyy"),this.searchDayReportData.dayReportMonth=Object(s["c"])(this.searchDayReportData.dayReportMonth,"yyyy-MM"),this.searchDayReportData.dayReportDay=Object(s["c"])(this.searchDayReportData.dayReportDay,"yyyy-MM-dd"),this.handlePersonList(this.searchDayReportData).then(function(e){})},searchSystem:function(e){this.handleQueryBySearchSystem(e).then(function(e){})},changePage:function(e){this.searchDayReportData.pageNo=e,this.searchData(this.$route.query.userCode)},pageSizeChange:function(e){this.searchDayReportData.pageSize=e,this.searchData(this.$route.query.userCode)},cleanData:function(){window.location.reload()},addData:function(){this.$router.push({name:"personAdd"})},delData:function(){this.$Notice.success({title:"通知",desc:"提交成功!"})},cleardayReportMD:function(){this.searchDayReportData.dayReportMonth="",this.searchDayReportData.dayReportDay=""},cleardayReportYD:function(){this.searchDayReportData.dayReportYear="",this.searchDayReportData.dayReportDay=""},cleardayReportYM:function(){this.searchDayReportData.dayReportMonth="",this.searchDayReportData.dayReportYear=""}}),mounted:function(){this.init()}},l=c,p=(a("93d0"),a("2877")),h=Object(p["a"])(l,r,o,!1,null,null,null);h.options.__file="persontenanceList.vue";t["default"]=h.exports},"93d0":function(e,t,a){"use strict";var r=a("eeda"),o=a.n(r);o.a},eeda:function(e,t,a){}}]);